# 2024-01-24

---

# Nomore í”„ë¡œì íŠ¸ - 8ì¼ì°¨

## ğŸƒ Springboot

1. êµ¬ë§¤í•˜ê¸°

   - ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ êµ¬ë§¤í•˜ê¸° => êµ¬í˜„ì™„ë£Œ
   - ìƒí’ˆ ì„¸ë¶€ ì •ë³´ í˜ì´ì§€ì—ì„œ êµ¬ë§¤í•˜ê¸° => êµ¬í˜„ì™„ë£Œ

2. êµ¬ë§¤ëª©ë¡ ì¡°íšŒ => êµ¬í˜„ì™„ë£Œ

3. springboot tomcat ì„œë²„ ec2 ì— ë¹Œë“œ ì™„ë£Œ => REST API ëª…ì„¸ì„œ ë³´ê³  react ì‘ì—… ì‹œì‘

## â™¾ï¸ React

1. í”„ë¡ íŠ¸ ë‹´ë‹¹ íŒ€ì›ì´ ë§Œë“  html êµ¬ì¡° ë³´ê³  ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„ì¤‘
   - ë¡œê·¸ì¸/íšŒì›ê°€ì… => ì¸ê°€ ë¶€ë¶„

=> Redux-persist, accessToken ìë™ ë°œê¸‰ êµ¬í˜„ì¤‘

> reducers/index.js

```jsx
import { combineReducers } from "redux";
import loading from "./loading"; // ë¡œë”©ê´€ë ¨ ë¦¬ë•ìŠ¤ ëª¨ë“ˆ
import { persistReducer } from "redux-persist";
import storage from "redux-persist/lib/storage/session"; // session storage
// import storage from "redux-persist/lib/storage" // local storage

const persistConfig = {
  key: "react",
  storage,
  whitelist: ["loading"],
};

const rootReducer = combineReducers({ loading });

export default persistReducer(persistConfig, rootReducer);
```

- redux-persist/lib/storage/session : ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤.
- redux-persist/lib/storage : ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤.
- key : ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ë•Œì˜ í‚¤ê°’ì„ ì§€ì •í•œë‹¤.
- storage : ì„¸ì…˜, ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì¤‘ì—ì„œ ì €ì¥í•  ìŠ¤í† ë¦¬ì§€ë¥¼ ì§€ì •í•œë‹¤.
- whitelist : ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ë¦¬ë•ìŠ¤ ëª¨ë“ˆì„ ë‚˜ì—´í•œë‹¤.
- blacklist : ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ì§€ ì•Šì„ ë¦¬ë•ìŠ¤ ëª¨ë“ˆì„ ë‚˜ì—´í•œë‹¤.
- persistReducer : redux-persistì™€ ë¦¬ë•ìŠ¤ ëª¨ë“ˆ ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ persist ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤.

> index.js

```js
import React from "react";
import ReactDOM from "react-dom";
import { Provider } from "react-redux";
import { persistStore } from "redux-persist";
import { PersistGate } from "redux-persist/integration/react";
import rootReducer from "./modules";
import ReduxThunk from "redux-thunk";
import logger from "redux-logger";
import App from "./App";

const store = configureStore({
  reducer: rootReducer,
  middleware: [ReduxThunk, logger],
  devTools: true,
  preloadedState: {
    loading: {
      loadingState: true,
    },
  },
}); // redux store ì •ì˜

const persistor = persistStore(store); // redux store ìƒì„±

ReactDOM.render(
  <Provider store={store}>
    <PersistGate loading={null} persistor={persistor}>
      <App />
    </PersistGate>
  </Provider>
  document.getElementById("root")
);
```

- persistStore : ì •ì˜ëœ store ë‚´ìš©ì— ë”°ë¼ ë¦¬ë•ìŠ¤ ë°ì´í„°ë¥¼ ìœ ì§€ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ë¥¼ ìƒì„±í•œë‹¤.
- PersistGate : ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì— ìœ ì§€ì‹œí‚¤ê³ ì í•˜ëŠ” ë°ì´í„°ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ì €ì¥ë˜ê³  ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë„ë¡ UIì˜ ë Œë”ë§ì„ ì§€ì—°ì‹œí‚¤ëŠ” ì—­í• ì„ í•œë‹¤. PersistGateë¡œ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ì„œ ì‚¬ìš©í•œë‹¤.
- loading : UI ë Œë”ë§ì˜ ì§€ì—°ì‹œê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤. nullê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¨ìœ„ëŠ” msë¡œ loading={1000}ìœ¼ë¡œ ì„¤ì •í•œ ê²½ìš°, UI ë Œë”ë§ì´ ì•½ 1ì´ˆê°„ ì§€ì—°ëœ í›„, ë Œë”ë§ì´ ì‹œì‘ëœë‹¤.
- persistor : ìŠ¤í† ì–´ ë‚´ìš©ì´ ì •ì˜ëœ ë³€ìˆ˜ë¥¼ ëŒ€ì…í•œë‹¤.

## ë°°ìš´ì 

-
