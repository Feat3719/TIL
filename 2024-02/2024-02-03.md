# 2024-02-03

---

## Seahield 프로젝트 - 6일차

### 오늘 해야 할 것

1. Springboot - Docker - EC2 환경에 secure 구현(https)

- Certbot 설치

```bash
sudo apt update
sudo apt install -y certbot python3-certbot-nginx
```

- Certbot을 사용하여 인증서 획득

```bash
sudo certbot certonly --manual --preferred-challenges dns -d devfeat.com -d www.devfeat.com
```

- 바로 Skip 하면 안되고, 해당하는 문자에 대해 DNS(Route53) 설정에 들어가 TXT 레코드 추가 후 enter 입력(기본과 www 둘다 해줘야된다.(코드가 둘다 각각 다름))
  [https://toolbox.googleapps.com/apps/dig/#TXT/_acme-challenge.www.devfeat.com.] 에서 확인 가능

- Certbot 삭제

```bash
sudo apt remove certbot python3-certbot-nginx
sudo rm -rf /etc/letsencrypt
sudo rm -rf /var/lib/letsencrypt
sudo rm -rf /var/log/letsencrypt
```

- Certbot 재설치

```bash
sudo apt update
sudo apt install certbot python3-certbot-nginx
```

- 권한 설정(아무나 접근 가능하게)

```bash
sudo chmod -R 777 /etc/letsencrypt/live/
```

- 권한 설정(다시 보안)

```bash
sudo chmod -R 700 /etc/letsencrypt/live/
```

- application.properties 설정

```properties
server.port=443
server.ssl.key-store=classpath:keystore.p12
server.ssl.key-store-password=[keystore-password]
server.ssl.keyStoreType=PKCS12
server.ssl.keyAlias=[alias]
```

- .p12 파일을 Spring Boot 프로젝트의 src/main/resources 디렉토리로 복사

1. 사업자등록번호 API 구현

## 배운점

- AWS EC2 ubuntu 서버 환경에서 nginx 완전히 삭제하기

```bash
apt-get remove --purge nginx nginx-full nginx-common
```

## 정보처리기사 공부

- 5과목 2장

## 내일 해야 할 것

1. 댓글 CRUD
2. OAuth2 카카오 아이디로 로그인
3. 산출물 작성(Flow Chart, System Architecture, Table 명세서)
4. 계약(Contract)관련 CRUD 로직
