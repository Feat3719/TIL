# 2024-02-20

---

## Seahield 프로젝트 - 23일차

### 오늘 해야 할 것

#### 1. 프레젠테이션 흐름 정리 / 대본 정리

```
클라우드 구축 (ppt : 시스템 아키텍처)
- 실제 서비스 환경에 맞게 클라우드를 구축
- AWS EC2 를 사용
	- 이유 : 요구 사항이나 갑작스러운 트래픽 증가 등 변동 사항에 따라 신속하게 규모를 확장하거나 축소하는 등 서버 트래픽 예측 필요성을 최소화 하기 위해

- 첫 번째 EC2 서버 설계 : MariaDB, Redis 설치 후 환경 설정해서 데이터베이스 서버 구축
	- MariaDB 사용 이유 : MySQL과 호환성이 되게 높음과 동시에 오픈소스였기 때문
	- Redis 사용 이유 : 비정형 데이터를 다루는데도 성능과 속도가 뛰어나기 때문

- 두 번째 EC2 서버 설계 : Springboot 프레임워크, Docker 를 사용하여 API 서버 구축

	- Springboot 사용 이유 : 외장 웹서버를 따로 구축하여 사용할 필요 없이 tomcat 이라는 내장 웹 어플리케이션 서버(WAS)를 제공하며 자주 사용되는 라이브러리들의 버젼 관리와 프로젝트 기본 설정을 자동화 해주는 장점 때문에 Springboot 프레임워크를 사용

	- Docker 사용 이유 : Docker 이미지를 사용하여 빠른 배포가 가능하고 자체적으로 버젼관리가 가능하며 어느 환경이든 사용 라이브러리, 의존성 등을 일관성 있게 구현가능 하므로 사용

- 세 번째 EC2 서버 설계 : React 라이브러리와 Nginx 를 사용하여 클라이언트 서버 구축

	- React 사용 이유 : 가상Dom을 사용하며 컴포넌트 기반으로 아키텍처를 제공하고, 무엇보다 레퍼런스가 압도적으로 많기 때문

	- Nginx 사용 이유 : Nginx 웹서버를 사용한 이유는 정적 컨텐츠 호스팅에 특화되어 있고 리버스 프록시, 로드 밸런싱, 컨텐츠 캐싱 등의 기능을 잘 소화하기 때문
- Route53 을 사용하여 DNS 주소를 구성했고 EIP를 매핑시켰습니다.
- certbot 을 사용하여 Let's Encrypt 기관에서 SSL인증서를 발급받고 https 환경을 구성하였습니다.
	- 이유는 JWT 관련 secure 이슈와 보안을 강화하고자 구현

CI/CD 구축 (ppt : 시스템 아키텍처)
 - Github Action 을 사용하여 Springboot 프로젝트와 React 프로젝트의 CI/CD 환경을 구성하였습니다.
 - 자동화된 CI/CD 파이프라인을 구축하게 되어 협업 시 빠르게 피드백을 반영할 수 있었고 일일이 빌드 및 배포를 수행하지 않아 개발에 대해 집중할 수 있었음
 - 또한 작은 단위로 자주 배포하게 되어 오류의 발견과 해결을 빠르게 진행했고 서버 환경을 변경 시에도 수정이 용이했었음


데이터베이스 구축

- 개념적 설계 (ppt : 요구사항 정의서, 릴레이션 전부)
	- 요구사항 정의서를 기반으로 개념적 설계 하였음
- 논리적 설계 (ppt : ERD)
	- 개념적 설계한 것을 바탕으로 ERD를 설계
- 물리적 설계 : Springboot JPA 를 사용하여 데이터베이스와 각 엔티티들과 매핑
 - 캐싱 기술을 사용하여 비정형 데이터베이스인 Redis에서 관리하게 설계
 - 조회가 자주 일어나는 로그 테이블, 공고 테이블, 게시판 테이블 등에 인덱싱 사용
 - Projection, JPQL 쿼리문, 네이티브 쿼리 기능을 사용하여 쿼리를 최적화



웹 시연 (모든 페이지 전부 view)

https://ityranno.com 접속하면 저희의 프로젝트 웹 화면이 나옵니다.

1. 전체적인 CSS 기술스택 설명
 - Lottie 라이브러리를 사용하여 로딩 페이지 구현
 - 커스텀 알림창을 구현하여 사용자 경험 향상
 - REST API 통신 되는 동안 스켈레톤 로딩 기술을 사용하여 사용자에게 페이지구조를 미리 보여주게 구현 => 사용자 경험 향상
 - 미디어쿼리를 적용하여 모바일에서도 충분히 사용 가능하게 페이지를 최적화 => 모바일로 들어와서 보세요
2. 인트로 페이지
 - Framer-motion 라이브러리, 커서 좌표 추적 기술, 웹페이지 주제와 알맞는 동영상을 사용하여 인트로 페이지 구성

회원가입
 - Daum 주소 OPEN API 활용
 - 현재 존재하는 사업자만 인증 가능하게 구현하기 위해 사업자등록번호 Open API 사용 => 공공데이터 OPEN API
 - Email, 휴대전화 인증(Coolsms에서 제공하는 라이브러리 사용)
	=> API 서버에서 이를 처리하는 커스텀 스레드 풀을 구성하여 비동기 통신으로 속도 향상

로그인
 - 세션인증방식이 아닌 토큰인증방식을 JWT 를 이용해서 구현
	- (보안강화) 호스트 서버 : http-only, secure 옵션 설정 + 엑세스 토큰 만료시간을 짧게 설정
	- (보안강화) 클라이언트 서버 : redux-persist 라이브러리를 통해 쿠키에 담긴 토큰관리

ID/PW 찾기
 - ID 는 이메일 인증을 통해 확인
 - PW 는 복호화가 불가능한 BCryptPasswordEncoder 클래스를 사용하여 보안성을 높였고 그로 인해 이메일로 임시 비밀번호를 발급

사용자 마이페이지
 - 내 정보를 조회할 수 있고 수정도 가능
 - 내가 작성한 글, 내가 작성한 댓글, 내가 좋아요한 글 조회 가능
 - 사업자라면 본인이 계약한 계약서 조회

커뮤니티 페이지
 - CKEditer API 사용
 - Pagination 라이브러리를 사용
 - 게시글 좋아요, 댓글 좋아요 기능


메인
 - 위치에 해당하는 실시간 날씨 데이터 Open API 사용 => 공공데이터 OPEN API
 - 로컬 서버에서 객체 탐지가 실시간으로 일어나고있는 Django 서버의 영상을 표현
 - 객체가 탐지될 때마다 객체 양에 따라 ~~ 변하게 설정
 - react-chartjs-2 라이브러리를 활용하여 쓰레기종류별 비율 원형그래프 표현
공고 페이지
- 현재 진행중인 공고 조회 가능

계약 페이지
- siganture-canvas 라이브러리 사용하여 서명 기능 구현

관리자 페이지
- 회원 관리, 게시글 관리, 계약관리 view
- 계약서 승인/비승인 토글 시연
```

#### 2. 산출물 마무리

### 트러블 슈팅

## 내일 해야 할 것
